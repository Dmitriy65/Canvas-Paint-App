(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{20:function(e,t,n){e.exports=n(34)},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(7),o=n.n(i),l=n(4),u=n(2),c=n(11),s=n(5),f=n.n(s),h=n(6),p=n(19),v=n(15),d=n(16),w=function(){function e(t,n){var r=this;Object(v.a)(this,e),this.convertToString=function(){r.stringView="-".repeat(r.width+2),r.stringView+="\n";for(var e=0;e<r.height;e++){r.stringView+="|";for(var t=0;t<r.width;t++)r.stringView+=r.array[e][t];r.stringView+="|",r.stringView+="\n"}r.stringView+="-".repeat(r.width+2),r.canvasParts.push(r.stringView+"\n")},this.drawLine=function(e,t,n,a){if(!r.isPointsForDrawLine(e,t,n,a))throw new Error("Draw line out of paint zone!");if(t===a)for(var i=r.array[t-1],o=n>e?n:e,l=n>e?e:n;l<=o;l++)i[l-1]="x";else{if(e!==n)throw new Error("Different coordinates on 2 points!");for(var u=a>t?a:t,c=a>t?t:a;c<=u;c++){r.array[c-1][e-1]="x"}}},this.drawRectangle=function(e,t,n,a){r.drawLine(e,t,n,t),r.drawLine(n,t,n,a),r.drawLine(n,a,e,a),r.drawLine(e,a,e,t)},this.fillArea=function(e,t,n){if([e,t].some((function(e){return"number"!==typeof e})))throw new Error("Input values not numbers!");if(!r.isPointsForFillArea(e,t))throw new Error("Bucket fill out of paint zone!");if(!n||"string"!==typeof n)throw new Error("There is no any color for canvas!");var a=r.array,i={x:e,y:t},o=[];for(o.push(i);o.length;){var l=o.pop(),u=l.x,c=l.y;if(!(u>r.width||c>r.height||c<=0||u<=0)){var s=a[c-1];" "===s[u-1]&&(s[u-1]=n,o.push({x:u+1,y:c}),o.push({x:u-1,y:c}),o.push({x:u,y:c+1}),o.push({x:u,y:c-1}))}}},this.width=t,this.height=n,this.array=this.createCanvasArray(t,n),this.canvasParts=[]}return Object(d.a)(e,[{key:"createCanvasArray",value:function(e,t){for(var n=[],r=0;r<t;r++){n[r]=[];for(var a=0;a<e;a++)n[r][a]=" "}return n}},{key:"isPointsForFillArea",value:function(e,t){return!(e>this.width||t>this.height||t<=0||e<=0)}},{key:"isPointsForDrawLine",value:function(e,t,n,r){return!(e>this.width||t>this.height||n>this.width||r>this.height||![e,t,n,r].every((function(e){return e>0})))}}]),e}();w.handleCanvasCreation=function(e){try{Object.keys(e).forEach((function(t){if(e[t].length>1)for(var n=e[t].length,r=0;n!==r;)x(t,e[t][r],y),r++;else x(t,e[t][0],y)}));var t=y.canvasParts.join("");return[O.createOutputFile(t),y.stringView,null]}catch(n){return[null,null,n.message]}};var y,g="C",m="L",E="R",b="B",x=function(e,t){var n=t.x1,r=t.y1,a=t.x2,i=t.y2,o=t.width,l=t.height,u=t.color;switch(e){case g:[o,l].every((function(e){return"number"===typeof e}))&&(y=new w(o,l));break;case m:y.drawLine(n,r,a,i);break;case E:y.drawLine(n,r,a,r),y.drawLine(a,r,a,i),y.drawLine(a,i,n,i),y.drawLine(n,i,n,r);break;case b:y.fillArea(n,r,u);break;default:return new Error("Can`t find any canvas actions...")}y.convertToString()},L=w,k=function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=function(){n("Error with reading txt file!")},r.readAsText(e)}))},F=function(e){var t=e.split("\n"),n=e.split("\n").filter((function(e){return e.length>=5}));if("C"!==n[0][0])return{error:"Command to create canvas not exist!"};if(t.length!==n.length)return{error:"Not enought arguments to create canvas!"};var r={};return n.forEach((function(e){var t,n,a,i,o,l,u,c=e[0],s=e.slice(2).split(" ").map((function(e){return Number.isNaN(Number(e))?e:Number(e)}));if(2===s.length){var f=Object(h.a)(s,2);t=f[0],n=f[1]}else if(3===s.length){var p=Object(h.a)(s,3);a=p[0],i=p[1],u=p[2]}else if(4===s.length){var v=Object(h.a)(s,4);a=v[0],i=v[1],o=v[2],l=v[3]}r[c]?(2===s.length&&r[c].push({width:t,height:n}),4===s.length&&r[c].push({x1:a,y1:i,x2:o,y2:l}),3===s.length&&r[c].push({x1:a,y1:i,color:u})):(r[c]=[],2===s.length&&r[c].push({width:t,height:n}),4===s.length&&r[c].push({x1:a,y1:i,x2:o,y2:l}),3===s.length&&r[c].push({x1:a,y1:i,color:u}))})),r},O={createOutputFile:function(e){var t=new Blob([e],{type:"text/plain"});return URL.createObjectURL(t)},processInputFile:function(e){var t,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,"text/plain"!==e.type){r.next=13;break}return r.next=4,f.a.awrap(k(e));case 4:if(t=r.sent){r.next=7;break}throw new Error("File doesn`t contains any data!");case 7:if(!(n=F(t)).error){r.next=10;break}throw new Error(n.error);case 10:return r.abrupt("return",Object(p.a)(L.handleCanvasCreation(n)));case 13:throw new Error('Cant read input file, type doesn`t match "text/plain"!');case 14:r.next=19;break;case 16:return r.prev=16,r.t0=r.catch(0),r.abrupt("return",[null,null,r.t0.message]);case 19:case"end":return r.stop()}}),null,null,[[0,16]])}},C=function(e){return{type:"HANDLE_FILE_SUCCESS",payload:e}},j=function(e){return{type:"HANDLE_FILE_ERROR",payload:e}},N={canvas:"",outputLink:"",errorMessage:""};var A=Object(u.c)({file:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HANDLE_FILE_SUCCESS":return Object(c.a)({},e,{outputLink:t.payload[0],canvas:t.payload[1],errorMessage:""});case"HANDLE_FILE_ERROR":return Object(c.a)({},e,{outputLink:null,canvas:null,errorMessage:t.payload});default:return e}}}),I=n(17),R=n.n(I),S=n(18),V=Object(u.d)(A,Object(u.a)(S.a,R.a));n(30);var D=function(e){var t=e.canvas,n=e.errorMessage;return console.log(n),a.a.createElement("div",{className:"canvas-field"},!n&&t?a.a.createElement("pre",{style:{fontSize:"1.5rem"}},t):a.a.createElement("p",{style:{color:"red"}},n))},P=Object(l.b)((function(e){var t=e.file;return{canvas:t.canvas,errorMessage:t.errorMessage}}),null)(D);n(31);var _=function(e){var t=e.handleInputFile,n=e.link;return a.a.createElement("div",{className:"btn-block"},a.a.createElement("label",{className:"custom-file-upload",htmlFor:"input-file"},"Click to upload your txt file",a.a.createElement("input",{type:"file",id:"input-file",onChange:function(e){t(e.target.files[0]),e.target.value=null}})),a.a.createElement("br",null),n?a.a.createElement("a",{href:n,className:"active-link",download:"output.txt"},"Click to download your txt file"):a.a.createElement("a",{href:"#",className:"disabled-link"},"You can`t download you file. Correct file required!"))},M=Object(l.b)((function(e){return{link:e.file.outputLink}}),(function(e){return{handleInputFile:function(t){return e(function(e){return function(t){var n,r,a,i,o;return f.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,f.a.awrap(O.processInputFile(e));case 2:n=l.sent,r=Object(h.a)(n,3),a=r[0],i=r[1],o=r[2],t(o?j(o):C([a,i]));case 8:case"end":return l.stop()}}))}}(t))}}}))(_);n(32);var H=function(){return a.a.createElement("div",null,a.a.createElement("h1",null,"Hello. In this app your can convert your input.txt file ",a.a.createElement("br",null)," into canvas and then download it. Try it!"))};var T=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(H,null),a.a.createElement(P,null),a.a.createElement(M,null))};n(33);o.a.render(a.a.createElement(l.a,{store:V},a.a.createElement("main",null,a.a.createElement(T,null))),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.c221ea00.chunk.js.map